(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[2],[,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),r=Object(a.createContext)({isLoggedIn:!1,userId:null,username:null,token:null,login:function(){},logout:function(){}})},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return c}));var a=function(){return{type:"REQUIRE"}},r=function(e){return{type:"MINLENGTH",val:e}},c=function(e,t){var n=!0,a=!0,r=!1,c=void 0;try{for(var l,u=t[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var i=l.value;"REQUIRE"===i.type&&(n=n&&e.trim().length>0),"MINLENGTH"===i.type&&(n=n&&e.trim().length>=i.val),"MAXLENGTH"===i.type&&(n=n&&e.trim().length<=i.val),"MIN"===i.type&&(n=n&&+e>=i.val),"MAX"===i.type&&(n=n&&+e<=i.val),"EMAIL"===i.type&&(n=n&&/^\S+@\S+\.\S+$/.test(e))}}catch(o){r=!0,c=o}finally{try{a||null==u.return||u.return()}finally{if(r)throw c}}return n}},,function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(52);t.a=function(e){return r.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},r.a.createElement("div",{className:"lds-dual-ring"}))}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(8);n(45);t.a=function(e){return e.href?r.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?r.a.createElement(c.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):r.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(7),l=n.n(c);n(50);t.a=function(e){return l.a.createPortal(r.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}},,,function(e,t,n){"use strict";var a=n(2),r=n(13),c=n(0),l=n.n(c),u=n(14),i=(n(44),function(e,t){switch(t.type){case"CHANGE":return Object(r.a)({},e,{value:t.val,isValid:Object(u.c)(t.val,t.validators)});case"TOUCH":return Object(r.a)({},e,{isTouched:!0});default:return e}});t.a=function(e){var t=Object(c.useReducer)(i,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),n=Object(a.a)(t,2),r=n[0],u=n[1],o=e.id,s=e.onInput,m=r.value,d=r.isValid;Object(c.useEffect)((function(){s(o,m,d)}),[o,m,d,s]);var f=function(t){u({type:"CHANGE",val:t.target.value,validators:e.validators})},p=function(){u({type:"TOUCH"})},E="input"===e.element?l.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:f,onBlur:p,value:r.value}):l.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:f,onBlur:p,value:r.value});return l.a.createElement("div",{className:"form-control ".concat(!r.isValid&&r.isTouched&&"form-control--invalid")},l.a.createElement("label",{htmlFor:e.id},e.label),E,!r.isValid&&r.isTouched&&l.a.createElement("p",null,e.errorText))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(12),r=n.n(a),c=n(15),l=n(2),u=n(0),i=function(){var e=Object(u.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(u.useState)(),o=Object(l.a)(i,2),s=o[0],m=o[1],d=Object(u.useRef)([]),f=Object(u.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var n,c,l,u,i,o,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",c=s.length>2&&void 0!==s[2]?s[2]:null,l=s.length>3&&void 0!==s[3]?s[3]:{},a(!0),u=new AbortController,d.current.push(u),e.prev=6,e.next=9,fetch(t,{method:n,body:c,headers:l,signal:u.signal});case 9:return i=e.sent,e.next=12,i.json();case 12:if(o=e.sent,d.current=d.current.filter((function(e){return e!==u})),i.ok){e.next=16;break}throw new Error(o.message);case 16:return a(!1),e.abrupt("return",o);case 20:e.prev=20,e.t0=e.catch(6),m(e.t0.message);case 23:a(!1);case 24:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(u.useEffect)((function(){return function(){d.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:s,sendRequest:f,clearError:function(){m(null)}}}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(7),l=n.n(c),u=n(59),i=n(18),o=(n(51),function(e){var t=r.a.createElement("div",{className:"modal ".concat(e.className),style:e.style},r.a.createElement("header",{className:"modal__header ".concat(e.headerClass)},r.a.createElement("h2",null,e.header)),r.a.createElement("form",{className:"modal-form",onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"modal__content ".concat(e.contentClass)},e.children),r.a.createElement("footer",{className:"modal__footer ".concat(e.footerClass)},e.footer)));return l.a.createPortal(t,document.getElementById("modal-hook"))}),s=function(e){return r.a.createElement(r.a.Fragment,null,e.show&&r.a.createElement(i.a,{onClick:e.onCancel}),r.a.createElement(u.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},r.a.createElement(o,e)))},m=n(17);t.a=function(e){return r.a.createElement(s,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:r.a.createElement(m.a,{onClick:e.onClear},"Okay")},r.a.createElement("p",null,e.error))}},function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(43);t.a=function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(19),c=n(13),l=n(0),u=function(e,t){switch(t.type){case"INPUT_CHANGE":var n=!0;for(var a in e.inputs)e.inputs[a]&&(n=a===t.inputId?n&&t.isValid:n&&e.inputs[a].isValid);return Object(c.a)({},e,{inputs:Object(c.a)({},e.inputs,Object(r.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},i=function(e,t){var n=Object(l.useReducer)(u,{inputs:e,isValid:t}),r=Object(a.a)(n,2),c=r[0],i=r[1];return[c,Object(l.useCallback)((function(e,t,n){i({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]),Object(l.useCallback)((function(e,t){i({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},,,,,function(e,t,n){e.exports=n.p+"static/media/logo.0ab9eef2.png"},,,,function(e,t,n){e.exports=n(58)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),l=n(7),u=n.n(l),i=(n(41),n(9)),o=n(8),s=n(12),m=n.n(s),d=n(15),f=n(2),p=n(26),E=n(21),b=n(17),v=n(25),h=n(16),g=n(14),O=n(27),y=n(24),I=n(11),j=(n(53),function(){var e=Object(r.useContext)(I.a),t=Object(y.a)(),n=t.isLoading,a=t.error,l=t.sendRequest,u=t.clearError,i=Object(O.a)({username:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),o=Object(f.a)(i,2),s=o[0],j=o[1],x=function(){var t=Object(d.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,l("https://stocksleuth.herokuapp.com/api/users/login","POST",JSON.stringify({username:s.inputs.username.value,password:s.inputs.password.value}),{"Content-Type":"application/json"});case 4:a=t.sent,e.login(a.userId,a.username,a.token),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{error:a,onClear:u}),c.a.createElement(p.a,{className:"authentication"},n&&c.a.createElement(h.a,{asOverlay:!0}),c.a.createElement("h2",null,"Login Required"),c.a.createElement("hr",null),c.a.createElement("form",{onSubmit:x},c.a.createElement(E.a,{element:"input",id:"username",type:"username",label:"Username",validators:[Object(g.a)(5)],errorText:"Please enter a valid email username.",onInput:j}),c.a.createElement(E.a,{element:"input",id:"password",type:"password",label:"Password",validators:[Object(g.a)(8)],errorText:"Please enter a valid password, at least 8 characters.",onInput:j}),c.a.createElement(b.a,{type:"submit",disabled:!s.isValid},"LOGIN"))))}),x=n(32),N=n.n(x),k=(n(54),function(e){return c.a.createElement("header",{className:"main-header"},e.children)}),C=(n(55),function(e){var t=Object(r.useContext)(I.a);return c.a.createElement("ul",{className:"nav-links"},t.isLoggedIn&&c.a.createElement("li",null,c.a.createElement(o.c,{to:"/users/".concat(t.username,"/upcoming-trades"),exact:!0},"HOME")),!t.isLoggedIn&&c.a.createElement("li",null,c.a.createElement(o.c,{to:"/login"},"LOGIN")),t.isLoggedIn&&c.a.createElement("li",null,c.a.createElement("button",{onClick:t.logout},"LOGOUT")))}),w=n(59),S=(n(56),function(e){var t=c.a.createElement(w.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0},c.a.createElement("aside",{className:"side-drawer",onClick:e.onClick},e.children));return u.a.createPortal(t,document.getElementById("drawer-hook"))}),T=n(18),V=(n(57),function(e){var t=Object(r.useState)(!1),n=Object(f.a)(t,2),a=n[0],l=n[1],u=function(){l(!1)};return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(T.a,{onClick:u}),c.a.createElement(S,{show:a,onClick:u},c.a.createElement("nav",{className:"main-navigation__drawer-nav"},c.a.createElement(C,null))),c.a.createElement(k,null,c.a.createElement("button",{className:"main-navigation__menu-btn",onClick:function(){l(!0)}},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null)),c.a.createElement(o.b,{to:"/"},c.a.createElement("img",{className:"main-navigation__logo",src:N.a,alt:"Logo"})),c.a.createElement("nav",{className:"main-navigation__header-nav"},c.a.createElement(C,null))))}),_=c.a.lazy((function(){return n.e(13).then(n.bind(null,315))})),z=c.a.lazy((function(){return n.e(14).then(n.bind(null,316))})),L=c.a.lazy((function(){return n.e(11).then(n.bind(null,317))})),P=c.a.lazy((function(){return n.e(12).then(n.bind(null,318))})),A=c.a.lazy((function(){return n.e(16).then(n.bind(null,319))})),D=c.a.lazy((function(){return Promise.all([n.e(1),n.e(19)]).then(n.bind(null,320))})),G=c.a.lazy((function(){return n.e(8).then(n.bind(null,321))})),H=c.a.lazy((function(){return Promise.all([n.e(1),n.e(17)]).then(n.bind(null,322))})),R=c.a.lazy((function(){return Promise.all([n.e(1),n.e(18)]).then(n.bind(null,323))})),U=c.a.lazy((function(){return n.e(15).then(n.bind(null,325))})),M=c.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,324))})),B=c.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,326))})),J=c.a.lazy((function(){return n.e(9).then(n.bind(null,327))})),F=c.a.lazy((function(){return n.e(10).then(n.bind(null,328))})),q=c.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,329))})),Q=function(){var e,t=function(){var e=Object(r.useState)(!1),t=Object(f.a)(e,2),n=t[0],c=t[1],l=Object(r.useState)(),u=Object(f.a)(l,2),i=u[0],o=u[1],s=Object(r.useState)(!1),m=Object(f.a)(s,2),d=m[0],p=m[1],E=Object(r.useState)(!1),b=Object(f.a)(E,2),v=b[0],h=b[1],g=Object(r.useCallback)((function(e,t,n,a){p(e),h(t),c(n);var r=a||new Date((new Date).getTime()+432e5);o(r),localStorage.setItem("userData",JSON.stringify({userId:e,username:t,token:n,expiration:r.toISOString()}))}),[]),O=Object(r.useCallback)((function(){p(null),o(null),h(null),c(null),localStorage.removeItem("userData")}),[]);return Object(r.useEffect)((function(){if(n&&i){var e=i.getTime()-(new Date).getTime();a=setTimeout(O,e)}else clearTimeout(a)}),[n,O,i]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&g(e.userId,e.username,e.token,new Date(e.expiration))}),[g]),{token:n,login:g,logout:O,userId:d,username:v}}(),n=t.token,l=t.login,u=t.logout,s=t.userId,m=t.username;return e=n?c.a.createElement(i.d,null,c.a.createElement(i.b,{path:"/users/".concat(m,"/unread"),exact:!0},c.a.createElement(_,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/upcoming-trades"),exact:!0},c.a.createElement(z,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/tier-one"),exact:!0},c.a.createElement(L,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/tier-two"),exact:!0},c.a.createElement(P,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/archives"),exact:!0},c.a.createElement(A,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/transcripts/:transcriptId/exchanges"),exact:!0},c.a.createElement(D,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/transcripts/:transcriptId/opening-statements"),exact:!0},c.a.createElement(G,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/transcripts/:transcriptId/full-transcript"),exact:!0},c.a.createElement(H,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/transcripts/:transcriptId/primary-evidence"),exact:!0},c.a.createElement(R,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/transcripts/:transcriptId/guidance-versus-consensus"),exact:!0},c.a.createElement(U,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/transcripts/:transcriptId/past-events"),exact:!0},c.a.createElement(M,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/transcripts/:transcriptId/reaction-evaluation"),exact:!0},c.a.createElement(B,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/transcripts/:transcriptId/sentiment"),exact:!0},c.a.createElement(J,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/transcripts/:transcriptId/tendencies"),exact:!0},c.a.createElement(F,null)),c.a.createElement(i.b,{path:"/users/".concat(m,"/transcripts/:transcriptId/trade-submission"),exact:!0},c.a.createElement(q,null)),c.a.createElement(i.a,{to:"/users/".concat(m,"/unread"),exact:!0})):c.a.createElement(i.d,null,c.a.createElement(i.b,{path:"/login",exact:!0},c.a.createElement(j,null)),c.a.createElement(i.a,{to:"/login"})),c.a.createElement(I.a.Provider,{value:{isLoggedIn:!!n,token:n,userId:s,username:m,login:l,logout:u}},c.a.createElement(o.a,null,c.a.createElement(V,null),c.a.createElement("main",null,c.a.createElement(r.Suspense,{fallback:c.a.createElement("div",{className:"center"},c.a.createElement(h.a,null))},e))))};u.a.render(c.a.createElement(Q,null),document.getElementById("root"))}],[[36,3,4]]]);
//# sourceMappingURL=main.cf1882f6.chunk.js.map